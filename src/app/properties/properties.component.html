<div class="card">
    <ng-container *ngrxLet="layerWithStops$ as layerWithStops">
        <ng-container *ngIf="layerWithStops">
            <app-layer 
                [layer]="layerWithStops.layer" 
                (layerChange)="updateLayer($event)" 
                (add)="addColorStop(layerWithStops.colorStops)">
            </app-layer>
            <app-color-stop 
                *ngFor="let colorStops of layerWithStops.colorStops.stops; index as i; trackBy:trackById" 
                [colorStop]="colorStops"
                (colorStopChange)="updateColorStop(layerWithStops.colorStops, i, $event)"
                (delete)="deleteColorStop(layerWithStops.colorStops, i)">
            </app-color-stop>
        </ng-container>
    </ng-container>
</div>

<!-- (direction)="setDirection($event, name)"
            (shape)="setShape($event)"
            (autoSize)="setAutoSize($event)"
            (width)="setWidth($event)"
            (height)="setHeight($event)"
            (size)="setSize($event)"
            (posx)="setPosX($event)"
            (posy)="setPosY($event)"
            (vertical)="setVertical($event)"
            (horizontal)="setHorizontal($event)" -->